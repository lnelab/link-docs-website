---
outline: deep
---

# 按键编辑

按键编辑是键盘个性化最基础的需求。在大部分客制化键盘玩家的概念里，可以独立设置每个按键的功能，是客制化键盘最为鲜明的特点之一，我们通常把这项功能特性称为全键自定义。

全键自定义，意味着你可以根据自己的偏好，自定义每一个按键的键值。

## 基础

按键编辑的过程非常简单，首先你需要在右侧的键盘中选中要编辑的按键，然后在左侧列表中点击你想要设置的键值，即可完成一个按键的编辑流程，键值的更新将立即生效。

## 层级

客制化键盘最强大且被广泛使用的功能之一是层级切换。对于大多数人来说，这意味着可以使用一个按键在不同的层级输出不同的键值，就像在笔记本电脑或平板电脑键盘上所见到的那样。

我们可以通过层级按键实现不同方式的层级切换：

- `DF(layer)` - 切换默认层级。

- `MO(layer)` - 瞬时激活层级。按下时激活指定层，一旦释放键，层级就会被停用。

- `LM(layer, mod)` - 瞬时激活层级，但按下的同时会激活相应的 `mod`。

- `LT(layer, kc)` - 按住时瞬时激活层级，并在轻按时发送按键值。仅支持 0-15 的层级。

- `TG(layer)` - 切换层级，如果层级处于非激活状态，则激活它，反之亦然。

- `TT(layer)` - 按住时瞬时激活层级，当你松开键时，层级将被停用（类似于 `MO` ）。如果您重复轻按键，层级将在开启和关闭之间切换（类似于 `TG` ）。默认情况下需要连续轻按5次，但您可以通过定义 `TAPPING_TOGGLE` 来更改此值 - 例如，`#define TAPPING_TOGGLE 2` 表示只需两次轻按即可切换。

- `TO(layer)` - 激活指定层级并停用其他所有层级（默认层级除外）。此功能特殊之处在于，不同于添加/删除一个层级，而是完全替换当前的活动层级，独特地允许你用较低的层级替换较高的层级。该功能在按键按下时激活。

- `OSL(layer)` - 瞬时激活层级，直到下一个按键被按下。

在键值菜单中我们预制了一部分层级按键，你可以直接使用他们，如果这些按键不能满足你的需求，你也可以自定义想要的功能。

## 鼠标模拟

鼠标模拟即通过按键模拟鼠标的各种操作。

- `Mouse ↑` - 向上移动光标

- `Mouse ↓` - 向下移动光标

- `Mouse ←` - 向左移动光标

- `Mouse →` - 向右移动光标

- `Mouse Btn1` - 按下按键 1

- `Mouse Btn2` - 按下按键 2

- `Mouse Btn3` - 按下按键 3

- `Mouse Btn4` - 按下按键 4

- `Mouse Btn5` - 按下按键 5

- `Mouse Btn6` - 按下按键 6

- `Mouse Btn7` - 按下按键 7

- `Mouse Btn8` - 按下按键 8

- `Mouse Wh↑` - 向上滚动滚轮

- `Mouse Wh↓` - 向下滚动滚轮

- `Mouse Wh←` - 向左滚动滚轮

- `Mouse Wh→` - 向右滚动滚轮

- `Mouse Acc0` - 设置速度为 0

- `Mouse Acc1` - 设置速度为 1

- `Mouse Acc2` - 设置速度为 2

## 高级按键

我们在键值菜单中可以找到高级按键的页签。这些按键不同于其他按键，通常需要通过简单的对话框来完成编辑。

### Mod-Tap

当按住 Mod-Tap 键 `MT(mod, kc)` 时，它会作为修饰键（modifier）的功能，而在轻按时则作为普通按键键码（keycode）的功能。

```
MT(MOD_LCTL | MOD_LSFT, KC_ESC)
```

该按键在按住时会激活左 Control 和左 Shift ，并在轻按时发送 Escape 键。

### Modifier Keys

 `MK(mod, kc)` 可以将修饰键和基础按键组合起来。按下时，首先发送修饰键的 keydown 事件，然后发送按键代码。释放时，先发送按键代码的 keyup 事件，然后发送修饰键。

 使用 `MK(mod, kc)` 的直观感受就好像是同时按下了修饰键和基础按键，如果你不想使用宏来模拟按键动作，这个按键在很多时候可以替代一些组合键。

```
MK(MOD_LCTL | MOD_LALT, KC_DEL)
```

该按键在按下时会在激活左 Control 和左 Alt 的同时发送 Delete 键。

### Endpoint

::: tip
该部分按键适用于 Marin Firmware 内核
:::

在键盘的选项里我们可以找到输出选项，通过点击下拉框可以选择USB或者蓝牙为键盘的首选输出。

在键盘同时连接着USB和蓝牙的时候，键盘将根据该选项，向首选的端点输出数据报文，例如键盘连接USB时，优先向蓝牙端点输出报文数据。

在高级按键里可以找到3个端点控制按键用于通过键盘按键快速的切换首先输出：

- `Endpoint Toggle`：在USB和蓝牙输出之间来回切换
- `Endpoint USB`：将首选输出切换到USB端点
- `Endpoint BLE`：将首先输出切换到蓝牙端点

我们可以在适合的键位设置这些按键，更加快捷的切换首选输出。

### Any 

`Any` 即自定义按键，你可以在对话框中输入键值、带有参数的组合键或者 16 进制格式的数值，LINK+ 将根据你的输入自动计算生成对应的按键。